<main>
  	<section class="surveys-mainContainer">
		<article class="surveys-contentTemplate" *ngFor="let group of groups">
			<header class="surveys-contentTemplate-upperContent">
				<div class="contentTemplate-upperContent-leftSideContent">
					<div class="upperContent-leftSideContent-mainInformation">
						<h2 class="mainInformation-name titleText">
							{{ group.name }}
						</h2>
						<span class="mainInformation-siteContainer">
							<svg class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" clip-rule="evenodd" d="M7.77734 0C4.46362 0 1.77734 2.68628 1.77734 6C1.77734 7.98771 2.34633 8.79829 5.06796 12.6755L5.068 12.6756C5.65875 13.5172 6.35093 14.5032 7.16072 15.6772C7.45866 16.1076 8.096 16.1076 8.394 15.6772C9.20375 14.5033 9.89589 13.5173 10.4866 12.6757L10.4868 12.6755C13.2084 8.79829 13.7773 7.9877 13.7773 6C13.7773 2.68628 11.0911 0 7.77734 0ZM4.77734 6C4.77734 4.34578 6.12313 3 7.77734 3C9.43156 3 10.7773 4.34578 10.7773 6C10.7773 7.65422 9.43156 9 7.77734 9C6.12313 9 4.77734 7.65422 4.77734 6ZM5.92734 6.025C5.92734 7.05889 6.76846 7.9 7.80234 7.9C8.83623 7.9 9.67734 7.05889 9.67734 6.025C9.67734 4.99111 8.83623 4.15 7.80234 4.15C6.76846 4.15 5.92734 4.99111 5.92734 6.025ZM5.9781 11.6693C6.49171 12.4016 7.09481 13.2615 7.80234 14.2847C8.50979 13.2616 9.11283 12.4018 9.62639 11.6696C12.0756 8.17751 12.4898 7.58686 12.4898 6.025C12.4898 4.77291 12.0023 3.59579 11.1169 2.71044C10.2316 1.82509 9.05443 1.3375 7.80234 1.3375C6.55025 1.3375 5.37313 1.82509 4.48778 2.71044C3.60243 3.59579 3.11484 4.77291 3.11484 6.025C3.11484 7.58688 3.52933 8.17786 5.9781 11.6693Z" fill="#86909E"/>
							</svg>
							<p class="mainInformation-siteInfo smallText colorBlack">
								{{ group.site }}
							</p>
						</span>
						<div class="mainInformation-participantsContainer">
							<svg class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path fill-rule="evenodd" clip-rule="evenodd" d="M10.7995 5.46694C10.7995 7.01462 9.54688 8.26726 7.9992 8.26726C6.45153 8.26726 5.19888 7.01462 5.19888 5.46694C5.19888 3.91927 6.45153 2.66663 7.9992 2.66663C9.54688 2.66663 10.7995 3.91927 10.7995 5.46694ZM2.40198 7.4666C3.5071 7.4666 4.4022 6.5715 4.4022 5.46638C4.4022 4.36125 3.5071 3.46615 2.40198 3.46615C1.29685 3.46615 0.40175 4.36125 0.40175 5.46638C0.40175 6.5715 1.29685 7.4666 2.40198 7.4666ZM15.6035 5.46638C15.6035 6.5715 14.7084 7.4666 13.6032 7.4666C12.4981 7.4666 11.603 6.5715 11.603 5.46638C11.603 4.36125 12.4981 3.46615 13.6032 3.46615C14.7084 3.46615 15.6035 4.36125 15.6035 5.46638ZM14.4005 5.46751C14.4005 5.02746 14.0405 4.66742 13.6004 4.66742C13.1604 4.66742 12.8003 5.02746 12.8003 5.46751C12.8003 5.90756 13.1604 6.2676 13.6004 6.2676C14.0405 6.2676 14.4005 5.90756 14.4005 5.46751ZM3.19923 5.46751C3.19923 5.02746 2.83919 4.66742 2.39914 4.66742C1.95909 4.66742 1.59904 5.02746 1.59904 5.46751C1.59904 5.90756 1.95909 6.2676 2.39914 6.2676C2.83919 6.2676 3.19923 5.90756 3.19923 5.46751ZM12.3101 9.93984C11.6226 8.91973 10.2924 8.53968 9.11478 8.89722C8.75974 9.00474 8.3872 9.06474 7.99716 9.06474C7.60711 9.06474 7.23457 9.00474 6.87953 8.89722C5.7019 8.53968 4.37175 8.91723 3.68417 9.93984C3.37413 10.3999 3.19411 10.9525 3.19411 11.5475V12.6677C3.19411 13.3302 3.73167 13.8678 4.39425 13.8678H11.5951C12.2576 13.8678 12.7952 13.3302 12.7952 12.6677V11.5475C12.8002 10.9525 12.6202 10.3999 12.3101 9.93984ZM4.39936 11.5475V12.6676H11.6002V11.5475C11.6002 10.6349 10.8701 9.8923 9.96499 9.8673C9.32742 10.1323 8.66735 10.2673 7.99977 10.2673C7.33219 10.2673 6.67212 10.1323 6.03455 9.8673C5.12945 9.8923 4.39936 10.6374 4.39936 11.5475ZM13.9023 8.26726H13.3022C12.8696 8.26726 12.4671 8.39978 12.1321 8.6248C12.4671 8.87733 12.7621 9.17986 12.9922 9.5299C13.0897 9.4949 13.1922 9.4674 13.2997 9.4674H13.8998C14.3948 9.4674 14.7999 9.87244 14.7999 10.3675C14.7999 10.6975 15.0699 10.9676 15.3999 10.9676C15.73 10.9676 16 10.6975 16 10.3675C16.0025 9.20987 15.0599 8.26726 13.9023 8.26726ZM8.00034 3.8669C8.88294 3.8669 9.60052 4.58449 9.60052 5.46709C9.60052 6.34969 8.88294 7.06727 8.00034 7.06727C7.11774 7.06727 6.40016 6.34969 6.40016 5.46709C6.40016 4.58449 7.11774 3.8669 8.00034 3.8669ZM2.70031 8.26726C3.13285 8.26726 3.5354 8.39978 3.87044 8.6248C3.5354 8.87733 3.24037 9.17986 3.00784 9.5299C2.91283 9.4949 2.81032 9.4674 2.70031 9.4674H2.10024C1.60518 9.4674 1.20014 9.87244 1.20014 10.3675C1.20014 10.6975 0.930105 10.9676 0.600068 10.9676C0.270031 10.9676 0 10.6975 0 10.3675C0 9.20987 0.942607 8.26726 2.10024 8.26726H2.70031Z" fill="#86909E"/>
							</svg>
							<p class="mainInformation-participantsInfo smallText">
								{{ group.participants }} Group Participants
							</p>
						</div>
						<div class="mainInformation-dateContainer">
							<svg class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M5.98047 1.30766C5.98047 0.92401 5.64609 0.615356 5.23047 0.615356C4.81484 0.615356 4.48047 0.92401 4.48047 1.30766V2.46151H3.23047C2.12734 2.46151 1.23047 3.28939 1.23047 4.30766V4.7692V6.15382V13.5384C1.23047 14.5567 2.12734 15.3846 3.23047 15.3846H13.2305C14.3336 15.3846 15.2305 14.5567 15.2305 13.5384V6.15382V4.7692V4.30766C15.2305 3.28939 14.3336 2.46151 13.2305 2.46151H11.9805V1.30766C11.9805 0.92401 11.6461 0.615356 11.2305 0.615356C10.8148 0.615356 10.4805 0.92401 10.4805 1.30766V2.46151H5.98047V1.30766ZM2.73047 6.15382H13.7305V13.5384C13.7305 13.7923 13.5055 14 13.2305 14H3.23047C2.95547 14 2.73047 13.7923 2.73047 13.5384V6.15382Z" fill="#86909E"/>
							</svg>
							<div class="mainInformation-dataText">
								<p class="mainInformation-startDateInfo smallText">
									{{ group.start_date }}
								</p>
								<p>
									-
								</p>
								<p class="mainInformation-finishDateInfo smallText">
									{{ group.end_date }}
								</p>
							</div>
						</div>
					</div>
					<div class="upperContent-leftSideContent-surveyCheckIns">
						<div class="surveyCheckIns-container">
							<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
								<g clip-path="url(#clip0_2_12797)">
								  <path opacity="0.45" d="M20.5714 11.1429C20.5714 10.1961 21.3389 9.42857 22.2857 9.42857C23.2325 9.42857 24 10.1961 24 11.1429V20.5714C24 22.465 22.465 24 20.5714 24H3.42857C1.53502 24 0 22.465 0 20.5714V3.42857C0 1.53502 1.53502 0 3.42857 0H13.7143C14.6611 0 15.4286 0.767512 15.4286 1.71429C15.4286 2.66106 14.6611 3.42857 13.7143 3.42857H3.42857V20.5714H20.5714V11.1429Z"
										[attr.fill]="getSvgFillColor(group)" />
								  <path d="M11.7999 13.8055L19.137 2.49149C19.6547 1.69878 20.7169 1.47583 21.5096 1.99352C22.3024 2.5112 22.5253 3.57348 22.0076 4.36619L13.7151 17.1431C13.1905 17.9465 12.1086 18.1629 11.3153 17.623L5.89351 12.8461C5.1108 12.3134 4.90811 11.247 5.44079 10.4643C5.97346 9.68163 7.0398 9.47894 7.82251 10.0116L11.7999 13.8055Z"
										[attr.fill]="getSvgFillColor(group)" />
								</g>
								<defs>
								  <clipPath id="clip0_2_12797">
									<rect width="24" height="24" fill="white"/>
								  </clipPath>
								</defs>
							  </svg>
							<div class="surveyCheckIns-content">	
								<div class="surveyCheckIns-surveyDate-container">
									<p class="smallText">
										Check-In Surveys
									</p>
									<hr [ngStyle]="{
										'background-color': (group.valid_responses === 0 || group.valid_responses < group.response_target) ? '#86909E' : '#B15DCB',
									}">
									<p class="surveyCheckIns-surveyDate-Info smallText">
										{{ group.survey_date }}
									</p>
								</div>
								<div class="surveyCheckIns-surveyAmount-container">
									<div class="surveyCheckIns-targetIcons-container">
										<span class="surveyAmount-amountMetContent"
											[ngStyle]="{
												'background-color': (group.valid_responses === 0 || group.valid_responses < group.response_target) ? '#FF246D' : '#B15DCB',
												'min-width': group.valid_responses === 0 ? '264px' : '170px'
											}">

											<!-- SVG para el caso satisfactorio -->

											<svg *ngIf="group.valid_responses === group.response_target"
												class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<path d="M11.6159 5.51041C11.8329 5.72742 11.8329 6.07985 11.6159 6.29687L7.17144 10.7413C6.95443 10.9583 6.602 10.9583 6.38498 10.7413L4.16276 8.51909C3.94575 8.30208 3.94575 7.94964 4.16276 7.73263C4.37977 7.51562 4.7322 7.51562 4.94922 7.73263L6.77908 9.56076L10.8312 5.51041C11.0482 5.29339 11.3733 5.2661 11.5903 5.48311L11.6159 5.51041Z" 
														fill="white" stroke="white" stroke-width="0.8"/>
												<circle cx="8" cy="8" r="7" stroke="white" stroke-width="2"/>
											</svg>

											<!-- SVG para el caso no satisfactorio -->
											<svg *ngIf="group.valid_responses !== group.response_target"
												class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<g clip-path="url(#clip0_2_12813)">
													<path d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8Z" fill="white"/>
													<path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" fill="#FF246D"/>
													<path d="M12 8C12 10.2091 10.2091 12 8 12C5.79086 12 4 10.2091 4 8C4 5.79086 5.79086 4 8 4C10.2091 4 12 5.79086 12 8Z" fill="white"/>
													<path d="M10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6C9.10457 6 10 6.89543 10 8Z" fill="#FF246D"/>
													<rect x="3.10938" y="1.34668" width="16.2324" height="3" transform="rotate(43.4495 3.10938 1.34668)" fill="#FF246D"/>
												</g>
												<defs>
													<clipPath id="clip0_2_12813">
													<rect width="16" height="16" fill="white"/>
													</clipPath>
												</defs>
											</svg>
											<p class="amountMet-info smallText">
												{{
													group.valid_responses === group.response_target
														? 'Target Met'
														: group.valid_responses > 0
														? 'Target Not Met'
														: 'No Responses collected'
												}}
											</p>
										</span>
										<span class="surveyAmount-targetIcon"
											  	*ngIf="group.valid_responses > 0"
												[ngStyle]="{
													'background-color': (group.valid_responses === 0 || group.valid_responses < group.response_target) ? '#FF246D' : '#B15DCB',
												}">
											<svg class="smallIcons" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
												<g clip-path="url(#clip0_2_12805)">
													<path d="M11.45 6.67188L12.3438 6.82188C12.4469 7.19688 12.5 7.59375 12.5 8C12.5 10.4844 10.4844 12.5 8 12.5C5.51562 12.5 3.5 10.4844 3.5 8C3.5 5.51562 5.51562 3.5 8 3.5C8.40938 3.5 8.80313 3.55312 9.17813 3.65625L9.32812 4.55L8.35312 5.525C8.2375 5.50938 8.11875 5.5 8 5.5C6.61875 5.5 5.5 6.61875 5.5 8C5.5 9.38125 6.61875 10.5 8 10.5C9.38125 10.5 10.5 9.38125 10.5 8C10.5 7.88125 10.4906 7.7625 10.475 7.64687L11.45 6.67188ZM14 8C14 7.65938 13.9719 7.325 13.9156 6.99687L14.2063 6.70625L15.5531 5.35938C15.8438 6.1875 16 7.075 16 8C16 12.4187 12.4187 16 8 16C3.58125 16 0 12.4187 0 8C0 3.58125 3.58125 0 8 0C8.925 0 9.8125 0.15625 10.6406 0.446875L9.29375 1.79375L9.00313 2.08437C8.675 2.02812 8.34062 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM13.6156 5.88438L13.5 6L11.4094 5.65L8.28125 8.78125L7.21875 7.71875L10.35 4.59062L10 2.5L10.1156 2.38438L11.6313 0.86875L12.5 0L13.3031 2.0125L13.5 2.5L13.9875 2.69688L16 3.5L15.1313 4.36875L13.6156 5.88438Z" fill="white"/>
												</g>
												<defs>
													<clipPath id="clip0_2_12805">
													<rect width="16" height="16" fill="white"/>
													</clipPath>
												</defs>
											</svg>
										</span>
									</div>

									<div class="surveyAmount-numberAmount"
										 *ngIf="group.valid_responses > 0">
										<p class="numberAmount-validResponses smallText">
											{{ group.valid_responses }}
										</p>
										<p class="smallText">
											of
										</p>
										<p class="numberAmount-responseTarget smallText">
											{{ group.response_target }}
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<button class="contentTemplate-upperContent-rightSideContent">
					<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
						<g clip-path="url(#clip0_2_12817)">
							<path d="M-2.0166e-06 9.24945C-1.98864e-06 8.6098 0.244123 7.96984 0.732372 7.48237C1.70887 6.50587 3.2908 6.50587 4.2673 7.48237L14.999 18.2176L25.7327 7.48237C26.7092 6.50588 28.2911 6.50588 29.2676 7.48237C30.2441 8.45887 30.2441 10.0408 29.2676 11.0173L16.7684 23.5165C15.7919 24.493 14.21 24.493 13.2335 23.5165L0.734325 11.0173C0.24217 10.529 -2.04457e-06 9.88925 -2.0166e-06 9.24945Z"/>
						</g>
						<defs>
						<clipPath id="clip0_2_12817">
						<rect width="30" height="30" fill="white" transform="translate(30) rotate(90)"/>
						</clipPath>
						</defs>
					</svg>
				</button>
			</header>

			<footer class="surveys-contentTemplate-bottomContent">
				<div class="bottomContent-leftSideContainer">
					<div class="leftSideContainer-checkInStatus">
						<div class="checkInStatus-content">
							<div class="checkInStatus-content-icon">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g clip-path="url(#clip0_2_12797)">
									<path opacity="0.45" d="M20.5714 11.1429C20.5714 10.1961 21.3389 9.42857 22.2857 9.42857C23.2325 9.42857 24 10.1961 24 11.1429V20.5714C24 22.465 22.465 24 20.5714 24H3.42857C1.53502 24 0 22.465 0 20.5714V3.42857C0 1.53502 1.53502 0 3.42857 0H13.7143C14.6611 0 15.4286 0.767512 15.4286 1.71429C15.4286 2.66106 14.6611 3.42857 13.7143 3.42857H3.42857V20.5714H20.5714V11.1429Z" fill="#B15DCB"/>
									<path d="M11.7999 13.8055L19.137 2.49149C19.6547 1.69878 20.7169 1.47583 21.5096 1.99352C22.3024 2.5112 22.5253 3.57348 22.0076 4.36619L13.7151 17.1431C13.1905 17.9465 12.1086 18.1629 11.3153 17.623L5.89351 12.8461C5.1108 12.3134 4.90811 11.247 5.44079 10.4643C5.97346 9.68163 7.0398 9.47894 7.82251 10.0116L11.7999 13.8055Z" fill="#B15DCB"/>
									</g>
									<defs>
									<clipPath id="clip0_2_12797">
									<rect width="24" height="24" fill="white"/>
									</clipPath>
									</defs>
								</svg>
							</div>
								
							<p class="smallText">
								Check-In
							</p>
						</div>
						<div class="checkInStatus-triangleElement"></div>
					</div>
					<aside class="leftSideContainer-checkInSurvey">
						<div class="checkInSurvey-content">
							<div class="checkInSurvey-content-upperContent">
								<p class="mediumText">
									Check-In Survey Collection Progress
								</p>
								<div class="checkInSurvey-content-upperContent-surveyDate">
									<svg></svg>
									<div class="checkInSurvey-upperContent-surveyText">
										<p class="smallText">
											Planned Check-In Survey Date
										</p>
										<p class="checkInSurvey-surveyDataInfo smallText">
											{{ group.survey_date }}
										</p>
									</div>
								</div>
							</div>
							<div class="checkInSurvey-content-bottomContent">
								<div class="checkInSurvey-content-bottomContent-surveyResponses">
									<div class="surveyResponses-validResponses">
										<button class="validResponses-text">
											<p class="smallText">
												valid responses
											</p>
											<svg></svg>
										</button>
										<p>
											{{ group.valid_responses }}
										</p>
									</div>
									<div class="surveyResponses-responseTarget">
										<button class="responseTarget-text">
											<p class="smallText">
												response target
											</p>
											<svg></svg>
										</button>
										<p>
											{{ group.response_target }}
										</p>
									</div>
								</div>
								<div class="checkInSurvey-content-bottomContent-surveyBar">
									<div class="surveyBar-progressIndicator"
										[style.width.%]="calcularPorcentaje(group.valid_responses, group.response_target)"
										[style.background-color]="determinarColor(group.valid_responses, group.response_target)">
									</div>
								</div>
							</div>
						</div>
					</aside>
				</div>
				<aside class="bottomContent-rightSideContainer">
					<div class="bottomContent-rightSideContainer-content">
						<p class="mediumText">
							Administering Check-In Surveys
						</p>
						<div class="rightSideContainer-content-downloadButtonContent">
							<span>
								<p>
									1
								</p>
							</span>
							<div class="downloadButtonContent-text">
								<p class="smallText">
									Print and Review Survey Admin Kit
								</p>
								<div class="downloadButtonContent-text-button">
									<hr>
									<a [href]="group.survey_admin_kit" target="_blank" download id="surveyAdminKit">
										<svg></svg>
									</a>
								</div>
							</div>
						</div>
						
						<div class="rightSideContainer-content-downloadButtonContent">
							<span>
								<p>
									2
								</p>
							</span>
							<div class="downloadButtonContent-text">
								<p class="smallText">
									Print Backup Surveys
								</p>
								<div class="downloadButtonContent-text-button">
									<hr>
									<a [href]="group.backup_surveys" target="_blank" download id="backupSurveys">
										<svg></svg>
									</a>
								</div>
							</div>
						</div>

						<div class="rightSideContainer-content-downloadButtonContent">
							<span>
								<p>
									3
								</p>
							</span>
							<div class="downloadButtonContent-text">
								<p class="smallText">
									Share Survey Link
								</p>
								<div class="downloadButtonContent-text-button">
									<hr>
									<a [href]="group.survey_link" target="_blank" download id="surveyLink">
										<svg></svg>
									</a>
								</div>
							</div>
						</div>
					</div>
				</aside>
			</footer>
		</article>
  	</section>
</main>
